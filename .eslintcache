[{"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\index.js":"1","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\App.js":"2","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Items\\AvailableItem.js":"3","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\UI\\Button.js":"4","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Items\\Items.js":"5","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\Header.js":"6","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\HeaderCartButton.js":"7","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\Footer.js":"8","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Cart\\Cart.js":"9","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\UI\\Model.js":"10","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Cart\\CartCloseButton.js":"11","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Cart\\CartItems.js":"12","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\Store\\CartProvider.js":"13","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\Store\\cart-context.js":"14","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\store\\CartProvider.js":"15","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\store\\cart-context.js":"16","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\About.js":"17","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\Home.js":"18","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\HeaderBottom.js":"19","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\ContactUs.js":"20","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\ProductDetails.js":"21","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\store\\auth-context.js":"22","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\Auth.js":"23","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\AuthForm\\AuthForm.js":"24"},{"size":434,"mtime":1664653347987,"results":"25","hashOfConfig":"26"},{"size":3224,"mtime":1664653763086,"results":"27","hashOfConfig":"26"},{"size":1208,"mtime":1663971422997,"results":"28","hashOfConfig":"26"},{"size":233,"mtime":1663285465905,"results":"29","hashOfConfig":"26"},{"size":1107,"mtime":1664033383281,"results":"30","hashOfConfig":"26"},{"size":995,"mtime":1664048294327,"results":"31","hashOfConfig":"26"},{"size":623,"mtime":1664644168410,"results":"32","hashOfConfig":"26"},{"size":644,"mtime":1663062490550,"results":"33","hashOfConfig":"26"},{"size":3309,"mtime":1664648790515,"results":"34","hashOfConfig":"26"},{"size":459,"mtime":1663972807456,"results":"35","hashOfConfig":"26"},{"size":231,"mtime":1663158404995,"results":"36","hashOfConfig":"26"},{"size":858,"mtime":1663242009971,"results":"37","hashOfConfig":"26"},{"size":1179,"mtime":1663248775682,"results":"38","hashOfConfig":"26"},{"size":221,"mtime":1663230965951,"results":"39","hashOfConfig":"26"},{"size":5221,"mtime":1664648783374,"results":"40","hashOfConfig":"26"},{"size":255,"mtime":1664644139099,"results":"41","hashOfConfig":"26"},{"size":2548,"mtime":1663279845044,"results":"42","hashOfConfig":"26"},{"size":1484,"mtime":1664033589319,"results":"43","hashOfConfig":"26"},{"size":280,"mtime":1664178243364,"results":"44","hashOfConfig":"26"},{"size":1274,"mtime":1663970117343,"results":"45","hashOfConfig":"26"},{"size":2594,"mtime":1664269750373,"results":"46","hashOfConfig":"26"},{"size":1052,"mtime":1664380288843,"results":"47","hashOfConfig":"26"},{"size":166,"mtime":1663965090417,"results":"48","hashOfConfig":"26"},{"size":2162,"mtime":1664087442710,"results":"49","hashOfConfig":"26"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"6isulp",{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"82"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\index.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\App.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Items\\AvailableItem.js",[],["101","102"],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\UI\\Button.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Items\\Items.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\Header.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\HeaderCartButton.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\Footer.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Cart\\Cart.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\UI\\Model.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Cart\\CartCloseButton.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Cart\\CartItems.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\Store\\CartProvider.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\Store\\cart-context.js",[],["103","104"],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\store\\CartProvider.js",["105"],"import axios from \"axios\";\r\nimport React, { useContext, useState } from \"react\";\r\nimport AuthContext from \"./auth-context\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nconst CartProvider = (props) => {\r\n  const authCtx = useContext(AuthContext);\r\n  const [items, updatedItems] = useState([]);\r\n  console.log(items)\r\n const [quantity, setQuantity] = useState(0)\r\n  const addItemsToCartHandler = async (product) => {\r\n    console.log(product)\r\n\r\n    const userEmailId = authCtx.email.split(\".\").join(\"\");\r\n    const cleanEmail = userEmailId.split(\"@\").join(\"\");\r\n    const url = `https://crudcrud.com/api/12cb9f3a8de64c88be37a109940785b4/cart${cleanEmail}`;\r\n\r\n    const newArray = [...items]\r\n    console.log(newArray)\r\n\r\n    const idx = newArray.findIndex((i) => {\r\n      console.log(i)\r\n      if (i.id === product.id)\r\n      {\r\n        return i\r\n      }\r\n    })\r\n    console.log(idx)\r\n    if (idx === -1) {\r\n      try{\r\n      const res = await axios.post(url, product)\r\n      updatedItems([...newArray, product])\r\n      console.log(res)\r\n      }\r\n      catch (err)\r\n      {\r\n        console.log(err)\r\n      }\r\n    }\r\n    else {\r\n      \r\n      try{\r\n        const res = await axios.get(url)\r\n        const mapProduct = res.data.findIndex((item) => {\r\n          if(item.id === product.id)\r\n          {\r\n            return product\r\n          }\r\n        return null} )\r\n        console.log(res.data[mapProduct])\r\n        console.log('items')\r\n      console.log(idx)\r\n      let fetchProduct = res.data[mapProduct]\r\n      let updatedProduct = {...fetchProduct, quantity: fetchProduct.quantity + 1 }\r\n      let temp = updatedProduct._id\r\n      console.log(temp)\r\n      delete updatedProduct._id\r\n      //console.log([...updatedProduct])\r\n      const res1 = await axios.put(url+`/${temp}`, updatedProduct)\r\n      console.log(res1.data)\r\n      updatedItems([updatedProduct])\r\n    }\r\n      catch (err)\r\n      {\r\n        console.log(err)\r\n      }\r\n    }\r\n}\r\n  //     fetch(url, {\r\n  //           method: 'POST',\r\n  //           body: JSON.stringify(product),\r\n  //           headers: {\r\n  //             'Content-Type':'application/json'\r\n  //           }\r\n  //         }).then(res => {\r\n  //           if(res.ok){\r\n  //             return res.json()\r\n  //           }else{\r\n  //             return res.json().then(data => {\r\n  //               throw new Error(data.error.message)\r\n  //             })\r\n  //           }\r\n  //         }).then(data=> {\r\n  //           setId(data._id)\r\n  //           //console.log(data)\r\n  //           updatedItems([...items, product]);\r\n  //         }).catch(err => {\r\n  //           alert(err)\r\n  //         })\r\n  // } else {\r\n  //   // const temp = newArray[idx].quantity = newArray[idx].quantity+1\r\n  //   newArray[idx] = {...newArray[idx], quantity: Number(newArray[idx].quantity) + Number(product.quantity)}\r\n  //   fetch(url+`/${id}`, {\r\n  //     method: 'PUT',\r\n  //     body: JSON.stringify({...newArray[idx]}),\r\n  //     headers: {\r\n  //       'Content-Type':'application/json'\r\n  //     }\r\n  //   }).then(res => {\r\n  //     console.log(res)\r\n  //     if(res.ok){\r\n  //       res.json().then(data => {\r\n  //         console.log(data)\r\n  //       })\r\n  //     }else{\r\n  //       return res.json().then(data => {\r\n  //         throw new Error(data.error.message)\r\n  //       })\r\n  //     }\r\n  //   }).then(data=> {\r\n  //     setId(data._id)\r\n  //     //newArray[idx] = {...newArray[idx], quantity: newArray[idx].quantity+product.quantity}\r\n  //     updatedItems([...newArray]);\r\n  //   }).catch(err => {\r\n  //     //alert(err)\r\n  //     console.log(err)\r\n  //   })\r\n\r\n\r\n    // let newArray = [...items];\r\n    // newArray.forEach((item, ind) => {\r\n    //   if (item.id === product.id) {\r\n    //     hasItem = true;\r\n    //     newArray[ind].quantity =\r\n    //       Number(newArray[ind].quantity) + Number(product.quantity);\r\n    //   }\r\n    // });\r\n    // if (hasItem === false) {\r\n    //   //console.log(product)\r\n    //   fetch(url, {\r\n    //     method: 'POST',\r\n    //     body: JSON.stringify(product),\r\n    //     headers: {\r\n    //       'Content-Type':'application/json'\r\n    //     }\r\n    //   }).then(res => {\r\n    //     if(res.ok){\r\n    //       return res.json()\r\n    //     }else{\r\n    //       return res.json().then(data => {\r\n    //         throw new Error(data.error.message)\r\n    //       })\r\n    //     }\r\n    //   }).then(data=> {\r\n    //     //console.log(data)\r\n    //   }).catch(err => {\r\n    //     alert(err)\r\n    //   })\r\n    //   updatedItems([...items, product]);\r\n    // } else {\r\n    //   updatedItems(newArray);\r\n    //     };\r\n      \r\n    const quantityHandler = quantity => {\r\n      setQuantity(quantity)\r\n    }\r\n\r\n  const removeItemHandler = (id) => {};\r\n\r\n  const cartItems = {\r\n    items: items,\r\n    quantity: quantity,\r\n    itemQuantity: quantityHandler,\r\n    totalAmount: items.reduce((ack, item) => {\r\n      return (ack += item.price * item.quantity);\r\n    }, 0),\r\n    addItem: addItemsToCartHandler,\r\n    removeItem: { removeItemHandler },\r\n  };\r\n  return (\r\n    <CartContext.Provider value={cartItems}>\r\n      {/* {console.log(cartItems.items)} */}\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","F:\\sharpener\\react_js_projects\\E-Commerce\\src\\store\\cart-context.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\About.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\Home.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\Layout\\HeaderBottom.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\ContactUs.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\ProductDetails.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\store\\auth-context.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\pages\\Auth.js",[],"F:\\sharpener\\react_js_projects\\E-Commerce\\src\\components\\AuthForm\\AuthForm.js",[],{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","replacedBy":"109"},{"ruleId":"106","replacedBy":"110"},{"ruleId":"108","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":21,"column":40,"nodeType":"114","messageId":"115","endLine":21,"endColumn":42},"no-native-reassign",["116"],"no-negated-in-lhs",["117"],["116"],["117"],"array-callback-return","Array.prototype.findIndex() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","no-global-assign","no-unsafe-negation"]