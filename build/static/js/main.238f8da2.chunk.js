(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{14:function(e,t,n){e.exports={header:"Header_header__jqpBy",active:"Header_active__3k5RM",container:"Header_container__2GHHD"}},15:function(e,t,n){e.exports={total:"Cart_total___x9ei",ul:"Cart_ul__3AOet",close:"Cart_close__1W6qb",wrapper:"Cart_wrapper__1AP2M",item:"Cart_item__KjOPB",price:"Cart_price__3JKks",quantity:"Cart_quantity__3MKaj","cart-total":"Cart_cart-total__OpSQz"}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(9),a=n(2),r=n.n(a),o=n(1),s=r.a.createContext({token:"",email:"",isLoggedIn:!1,login:function(e,t){},logout:function(){}}),i=function(e){var t=localStorage.getItem("idToken"),n=localStorage.getItem("email"),r=Object(a.useState)(t),i=Object(c.a)(r,2),l=i[0],u=i[1],j=Object(a.useState)(n),d=Object(c.a)(j,2),b=d[0],O=d[1],x={token:l,email:b,isLoggedIn:!!l,login:function(e,t){u(e),localStorage.setItem("idToken",e),localStorage.setItem("email",t),O(t)},logout:function(){u(null)}};return Object(o.jsx)(s.Provider,{value:x,children:e.children})};t.b=s},18:function(e,t,n){"use strict";var c=n(2),a=n.n(c).a.createContext({items:[],quantity:0,itemQuantity:function(e){},totalAmount:"",addItem:function(e){},removeItem:function(e){}});t.a=a},23:function(e,t,n){e.exports={container:"CartItems_container__2aYPX","cart-column":"CartItems_cart-column__2g9PD",quantity:"CartItems_quantity__2TLF2",price:"CartItems_price__3UeHH"}},31:function(e,t,n){e.exports={model:"Model_model__1Loc2","slide-down":"Model_slide-down__1wmA_"}},32:function(e,t,n){e.exports={button:"HeaderCartButton_button__2Xu2O",span:"HeaderCartButton_span__3lKZr"}},35:function(e,t,n){"use strict";n(2);var c=n(47),a=n.n(c),r=n(1);t.a=function(e){return Object(r.jsx)("button",{className:a.a.button,onClick:e.onClick,children:e.children})}},47:function(e,t,n){e.exports={button:"Button_button__1wSYz"}},51:function(e,t,n){e.exports={footer:"Footer_footer__1Y6Jo"}},52:function(e,t,n){e.exports={"footer-container":"App_footer-container__3Pqe5"}},61:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var c=n(46),a=n.n(c),r=n(11),o=(n(61),n(13)),s=n(19),i=n(9),l=n(2),u=n.n(l),j=n(3),d=n(20),b=n.n(d),O=n(16),x=n(18),h=n(35),m=n(30),p=n.n(m),f=n(31),_=n.n(f),g=n(1),v=function(e){return Object(g.jsx)("div",{className:_.a.model,children:Object(g.jsx)("div",{className:_.a.content,children:e.children})})},C=function(e){return p.a.createPortal(Object(g.jsx)(v,{onClose:e.onClose,children:e.children}),document.getElementById("overlay-root"))},y=n(15),I=n.n(y),N=n(48),k=function(e){return Object(g.jsx)(N.a,{className:e.className,onClick:e.onClose})},S=n(23),w=n.n(S),q=function(e){var t="$".concat(e.product.price);return Object(g.jsx)("li",{children:Object(g.jsxs)("div",{className:w.a.container,children:[Object(g.jsxs)("div",{className:w.a["cart-column"],children:[Object(g.jsx)("img",{src:e.product.imageUrl,alt:"Cart items"}),Object(g.jsx)("span",{children:e.product.title})]}),Object(g.jsx)("span",{className:w.a.price,children:t}),Object(g.jsxs)("div",{className:w.a.quantity,children:[Object(g.jsx)("span",{children:e.product.quantity}),Object(g.jsx)("button",{onClick:function(){var t=e.product.forEach((function(e,t){return e.splice(1,t)}));console.log(t)},children:"REMOVE"})]})]})},e.product.id)},T=function(e){var t=Object(l.useContext)(x.a),n=Object(l.useContext)(O.b),c=Object(l.useState)([]),a=Object(i.a)(c,2),r=a[0],u=a[1];Object(l.useEffect)((function(){var e=n.email.split(".").join("").split("@").join(""),c=function(){var n=Object(s.a)(Object(o.a)().mark((function n(){var c,a;return Object(o.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b.a.get("https://crudcrud.com/api/12cb9f3a8de64c88be37a109940785b4/cart".concat(e));case 2:c=n.sent,t.items=c.data,a=c.data.reduce((function(e,t){return e+t.quantity}),0),t.itemQuantity(a),u(c.data),console.log(t.itemQuantity),console.log(t.items);case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();c()}),[n.email,t]);var j=t.totalAmount.toFixed(2);console.log(t.items);var d=r.map((function(e){return Object(g.jsx)("ul",{className:I.a.ul,children:Object(g.jsx)(q,{product:e})})}));return Object(g.jsxs)(C,{onClose:e.onClose,children:[Object(g.jsx)(k,{className:I.a.close,onClose:e.onClose}),Object(g.jsxs)("div",{className:I.a.total,children:[Object(g.jsx)("h2",{children:"Cart"}),Object(g.jsxs)("div",{className:I.a.wrapper,children:[Object(g.jsx)("span",{className:I.a.item,children:"ITEM"}),Object(g.jsx)("span",{className:I.a.price,children:"PRICE"}),Object(g.jsx)("span",{className:I.a.quantity,children:"QUANTITY"})]}),Object(g.jsxs)("div",{children:[d,Object(g.jsxs)("span",{className:I.a["cart-total"],children:[Object(g.jsxs)("span",{children:["$",j]}),Object(g.jsx)("strong",{children:"Total"})]})]}),Object(g.jsx)(h.a,{children:"Purchase"})]})]})},E=n(14),L=n.n(E),H=n(32),P=n.n(H),z=function(e){var t=Object(l.useContext)(x.a);return t.items.forEach((function(e){Number(e.quantity)})),Object(g.jsx)(l.Fragment,{children:Object(g.jsxs)("button",{className:P.a.button,onClick:e.onClick,children:["Cart ",Object(g.jsx)("span",{className:P.a.span,children:t.quantity})]})})},A=function(e){return Object(g.jsxs)("div",{className:L.a.container,children:[Object(g.jsx)("h1",{children:"THIS IS WILLY'S WEBSITE. "}),e.children]})},B=function(e){return Object(g.jsxs)(l.Fragment,{children:[Object(g.jsxs)("header",{className:L.a.header,children:[Object(g.jsx)(r.c,{exact:!0,activeClassName:L.a.active,to:"/",children:"HOME"}),Object(g.jsx)(r.c,{activeClassName:L.a.active,to:"/store",children:"STORE"}),Object(g.jsx)(r.c,{activeClassName:L.a.active,to:"/about",children:"ABOUT"}),Object(g.jsx)(r.c,{activeClassName:L.a.active,to:"/login",children:"LOGIN"}),Object(g.jsx)(r.c,{activeClassName:L.a.active,to:"/contact-us",children:"CONTACT-US"}),Object(g.jsx)(z,{onClick:e.onShowCart})]}),Object(g.jsx)(A,{})]})},M=n(54),Q=n(27),U=n(51),F=n.n(U),J=function(){return Object(g.jsxs)("footer",{className:F.a.footer,children:[Object(g.jsx)("h1",{children:"The Generics"}),Object(g.jsxs)("ul",{children:[Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"https://www.youtube.com",children:Object(g.jsx)(Q.c,{color:"red",size:"35px"})})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"https://spotify.com",children:Object(g.jsx)(Q.b,{color:"green",size:"30px"})})}),Object(g.jsx)("li",{children:Object(g.jsx)("a",{href:"https://facebook.com",children:Object(g.jsx)(Q.a,{size:"30px"})})})]})]})},R=n(52),Y=n.n(R),K=n(10),W=n(34),D=function(e){var t=Object(l.useContext)(O.b),n=Object(l.useState)([]),c=Object(i.a)(n,2),a=c[0],r=c[1];console.log(a);var u=Object(l.useState)(0),j=Object(i.a)(u,2),d=j[0],h=j[1],m=function(){var e=Object(s.a)(Object(o.a)().mark((function e(n){var c,s,i,l,u,j,d,O,x,h,m,p;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(n),c=t.email.split(".").join(""),s=c.split("@").join(""),i="https://crudcrud.com/api/12cb9f3a8de64c88be37a109940785b4/cart".concat(s),l=Object(W.a)(a),console.log(l),u=l.findIndex((function(e){if(console.log(e),e.id===n.id)return e})),console.log(u),-1!==u){e.next=22;break}return e.prev=9,e.next=12,b.a.post(i,n);case 12:j=e.sent,r([].concat(Object(W.a)(l),[n])),console.log(j),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.log(e.t0);case 20:e.next=45;break;case 22:return e.prev=22,e.next=25,b.a.get(i);case 25:return d=e.sent,O=d.data.findIndex((function(e){return e.id===n.id?n:null})),console.log(d.data[O]),console.log("items"),console.log(u),x=d.data[O],h=Object(K.a)(Object(K.a)({},x),{},{quantity:x.quantity+1}),m=h._id,console.log(m),delete h._id,e.next=37,b.a.put(i+"/".concat(m),h);case 37:p=e.sent,console.log(p.data),r([h]),e.next=45;break;case 42:e.prev=42,e.t1=e.catch(22),console.log(e.t1);case 45:case"end":return e.stop()}}),e,null,[[9,17],[22,42]])})));return function(t){return e.apply(this,arguments)}}(),p={items:a,quantity:d,itemQuantity:function(e){h(e)},totalAmount:a.reduce((function(e,t){return e+t.price*t.quantity}),0),addItem:m,removeItem:{removeItemHandler:function(e){}}};return Object(g.jsx)(x.a.Provider,{value:p,children:e.children})},G=u.a.lazy((function(){return n.e(7).then(n.bind(null,102))})),X=u.a.lazy((function(){return n.e(3).then(n.bind(null,106))})),$=u.a.lazy((function(){return Promise.all([n.e(9),n.e(8)]).then(n.bind(null,103))})),V=u.a.lazy((function(){return n.e(6).then(n.bind(null,104))})),Z=u.a.lazy((function(){return n.e(4).then(n.bind(null,105))})),ee=u.a.lazy((function(){return n.e(5).then(n.bind(null,107))}));var te=function(){var e=Object(l.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],a=Object(l.useContext)(O.b),r=function(){var e=Object(s.a)(Object(o.a)().mark((function e(t){var n,c;return Object(o.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://e-commerce-cb528-default-rtdb.firebaseio.com/userQuery.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Something Went wrong");case 6:c=n.json(),console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(D,{children:[n&&Object(g.jsx)(T,{onClose:function(){c(!1)}}),Object(g.jsx)(B,{onShowCart:function(){c(!0)}}),Object(g.jsx)("main",{children:Object(g.jsx)(l.Suspense,{fallback:Object(g.jsx)(M.a,{style:{flex:1,justifyContent:"center",alignItems:"center"},animation:"border",role:"status",children:Object(g.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),children:Object(g.jsxs)(j.d,{children:[Object(g.jsx)(j.b,{path:"/",exact:!0,children:Object(g.jsx)(G,{})}),Object(g.jsxs)(j.b,{path:"/store",exact:!0,children:[a.isLoggedIn&&Object(g.jsx)(X,{}),!a.isLoggedIn&&Object(g.jsx)(j.a,{to:"/login"})]}),Object(g.jsxs)(j.b,{path:"/store/:productDetails",children:[a.isLoggedIn&&Object(g.jsx)($,{}),!a.isLoggedIn&&Object(g.jsx)(j.a,{to:"/login"})]}),Object(g.jsx)(j.b,{path:"/about",children:Object(g.jsx)(Z,{})}),Object(g.jsx)(j.b,{path:"/login",children:Object(g.jsx)(ee,{})}),Object(g.jsxs)(j.b,{path:"/contact-us",children:[a.isLoggedIn&&Object(g.jsx)(V,{onAddUserQuery:r}),!a.isLoggedIn&&Object(g.jsx)(j.a,{to:"/login"})]})]})})}),Object(g.jsx)("div",{className:Y.a["footer-container"],children:Object(g.jsx)(J,{})})]})};n(92);a.a.createRoot(document.getElementById("root")).render(Object(g.jsx)(O.a,{children:Object(g.jsx)(r.a,{children:Object(g.jsx)(te,{})})}))}},[[93,1,2]]]);
//# sourceMappingURL=main.238f8da2.chunk.js.map